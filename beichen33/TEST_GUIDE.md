# æµ‹è¯•æŒ‡å— - 2025å¹´11æœˆ13æ—¥ä¿®å¤

## ğŸ¯ æœ¬æ¬¡ä¿®å¤å†…å®¹

æœ¬æ¬¡ä¿®å¤äº†ä»¥ä¸‹4ä¸ªå…³é”®åŠŸèƒ½ï¼š

1. âœ… **æ•™å¸ˆåˆ›å»º** - åç«¯æ·»åŠ äº†ç”¨æˆ·åˆ›å»ºAPI
2. âœ… **ç­çº§åˆ›å»º** - å‰ç«¯æ·»åŠ äº†æ•™å¸ˆé€‰æ‹©åŠŸèƒ½
3. âœ… **è¡¨å•æ¨¡æ¿åˆ›å»º** - å®ç°äº†å®Œæ•´çš„åˆ›å»ºæµç¨‹
4. âœ… **ä»ªè¡¨ç›˜è·³è½¬** - ç»Ÿè®¡å¡ç‰‡å¯ç‚¹å‡»è·³è½¬

---

## ğŸ“ æµ‹è¯•æ­¥éª¤

### å‰ç½®æ¡ä»¶
ç¡®ä¿æœåŠ¡æ­£åœ¨è¿è¡Œï¼š
```bash
docker-compose ps
```

é¢„æœŸçœ‹åˆ°ï¼š
- âœ… backend: Up (å¥åº·)
- âœ… frontend: Up
- âœ… postgres: Up (å¥åº·)

è®¿é—®ï¼šhttp://localhost:8892

---

### æµ‹è¯•1: æ•™å¸ˆåˆ›å»ºåŠŸèƒ½

**æ­¥éª¤**ï¼š
1. ç™»å½•ç³»ç»Ÿ
2. ç‚¹å‡»å·¦ä¾§èœå• "**æ•™å¸ˆç®¡ç†**"
3. ç‚¹å‡»å³ä¸Šè§’ "**æ·»åŠ æ•™å¸ˆ**" æŒ‰é’®
4. å¡«å†™è¡¨å•ï¼š
   ```
   æ•™å¸ˆå§“å: å¼ è€å¸ˆ
   é‚®ç®±: zhang@school.com
   ç”µè¯: 13800138000
   ```
5. ç‚¹å‡» "**ç¡®è®¤**"

**é¢„æœŸç»“æœ**ï¼š
- âœ… æˆåŠŸæç¤ºï¼šä¿å­˜æˆåŠŸ
- âœ… æ•™å¸ˆåˆ—è¡¨ä¸­å‡ºç°æ–°æ•™å¸ˆ
- âœ… æ•™å¸ˆä¼šè‡ªåŠ¨è·å¾—è´¦å·ï¼ˆé‚®ç®±ä½œä¸ºç”¨æˆ·åï¼Œé»˜è®¤å¯†ç 123456ï¼‰

**å¦‚æœå¤±è´¥**ï¼š
- æ£€æŸ¥åç«¯æ—¥å¿—ï¼š`docker logs beichen33-backend-1 --tail 50`
- æ£€æŸ¥æ˜¯å¦æœ‰ POST /api/users çš„é”™è¯¯æ—¥å¿—

---

### æµ‹è¯•2: ç­çº§åˆ›å»ºåŠŸèƒ½

**æ­¥éª¤**ï¼š
1. ç¡®ä¿å·²ç»åˆ›å»ºè‡³å°‘ä¸€ä¸ªæ•™å¸ˆï¼ˆå‚è€ƒæµ‹è¯•1ï¼‰
2. ç‚¹å‡»å·¦ä¾§èœå• "**ç­çº§ç®¡ç†**"
3. ç‚¹å‡»å³ä¸Šè§’ "**æ·»åŠ ç­çº§**" æŒ‰é’®
4. å¡«å†™è¡¨å•ï¼š
   ```
   ç­çº§åç§°: å¤§ä¸€ç­
   å¹´çº§: å¤§ç­
   æ•™å¸ˆ: [ä»ä¸‹æ‹‰æ¡†é€‰æ‹©æ•™å¸ˆ]
   å®¹é‡: 30
   ```
5. ç‚¹å‡» "**ç¡®è®¤**"

**é¢„æœŸç»“æœ**ï¼š
- âœ… æˆåŠŸæç¤ºï¼šä¿å­˜æˆåŠŸ
- âœ… ç­çº§åˆ—è¡¨ä¸­å‡ºç°æ–°ç­çº§
- âœ… ç­çº§æ˜¾ç¤ºå…³è”çš„æ•™å¸ˆå§“å

**æ³¨æ„äº‹é¡¹**ï¼š
- âš ï¸ å¿…é¡»å…ˆåˆ›å»ºæ•™å¸ˆï¼Œå¦åˆ™æ•™å¸ˆä¸‹æ‹‰æ¡†ä¸ºç©º
- âš ï¸ æ•™å¸ˆå­—æ®µä¸ºå¿…å¡«é¡¹

**å¦‚æœå¤±è´¥**ï¼š
- æ£€æŸ¥åç«¯æ—¥å¿—ä¸­æ˜¯å¦æœ‰ Prisma é”™è¯¯
- ç¡®è®¤å·²åˆ›å»ºæ•™å¸ˆä¸”æ•™å¸ˆä¸‹æ‹‰æ¡†æœ‰é€‰é¡¹

---

### æµ‹è¯•3: è¡¨å•æ¨¡æ¿åˆ›å»ºåŠŸèƒ½

**æ­¥éª¤**ï¼š
1. ç‚¹å‡»å·¦ä¾§èœå• "**è¡¨å•ç®¡ç†**" â†’ "**è¡¨å•æ¨¡æ¿**"
2. ç‚¹å‡»å³ä¸Šè§’ "**åˆ›å»ºæ¨¡æ¿**" æŒ‰é’®
3. å¡«å†™è¡¨å•ï¼š
   ```
   è¡¨å•æ ‡é¢˜: è¯·å‡ç”³è¯·è¡¨
   è¡¨å•æè¿°: ç”¨äºå­¦ç”Ÿè¯·å‡ç”³è¯·
   ```
4. ç‚¹å‡» "**ç¡®è®¤**"

**é¢„æœŸç»“æœ**ï¼š
- âœ… æˆåŠŸæç¤ºï¼šä¿å­˜æˆåŠŸ
- âœ… è¡¨å•æ¨¡æ¿åˆ—è¡¨ä¸­å‡ºç°æ–°æ¨¡æ¿
- âœ… æ¨¡æ¿æ˜¾ç¤ºæ ‡é¢˜å’Œæè¿°

**å¦‚æœå¤±è´¥**ï¼š
- æ£€æŸ¥åç«¯æ˜¯å¦æœ‰è¡¨å•æ¨¡æ¿API
- æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰å‰ç«¯é”™è¯¯

---

### æµ‹è¯•4: ä»ªè¡¨ç›˜ç‚¹å‡»è·³è½¬

**æ­¥éª¤**ï¼š
1. ç‚¹å‡»å·¦ä¾§èœå•å›åˆ° "**ä»ªè¡¨ç›˜**"
2. è§‚å¯Ÿ3ä¸ªç»Ÿè®¡å¡ç‰‡ï¼ˆé¼ æ ‡æ‚¬åœåº”æœ‰é«˜äº®æ•ˆæœï¼‰
3. ä¾æ¬¡ç‚¹å‡»ï¼š
   - **å­¦ç”Ÿæ•°é‡å¡ç‰‡** â†’ åº”è·³è½¬åˆ°å­¦ç”Ÿç®¡ç†é¡µé¢
   - è¿”å›ä»ªè¡¨ç›˜
   - **ç­çº§æ•°é‡å¡ç‰‡** â†’ åº”è·³è½¬åˆ°ç­çº§ç®¡ç†é¡µé¢
   - è¿”å›ä»ªè¡¨ç›˜
   - **æ•™å¸ˆæ•°é‡å¡ç‰‡** â†’ åº”è·³è½¬åˆ°æ•™å¸ˆç®¡ç†é¡µé¢

**é¢„æœŸç»“æœ**ï¼š
- âœ… é¼ æ ‡æ‚¬åœæ—¶å¡ç‰‡æœ‰é«˜äº®æ•ˆæœ
- âœ… ç‚¹å‡»åæ­£ç¡®è·³è½¬åˆ°å¯¹åº”é¡µé¢
- âœ… é¡µé¢URLæ­£ç¡®æ›´æ–°

---

## ğŸ” å®Œæ•´æµ‹è¯•æµç¨‹

æ¨èæŒ‰ä»¥ä¸‹é¡ºåºå®Œæ•´æµ‹è¯•æ‰€æœ‰åŠŸèƒ½ï¼š

```
1. ç™»å½•ç³»ç»Ÿ
   â†“
2. æµ‹è¯•ä»ªè¡¨ç›˜ç‚¹å‡»ï¼ˆå…ˆæµ‹è¯•è·³è½¬æ˜¯å¦æ­£å¸¸ï¼‰
   â†“
3. åˆ›å»ºæ•™å¸ˆï¼ˆè‡³å°‘åˆ›å»º2ä¸ªæ•™å¸ˆï¼‰
   â†“
4. åˆ›å»ºç­çº§ï¼ˆä¸ºæ¯ä¸ªæ•™å¸ˆåˆ†é…ä¸€ä¸ªç­çº§ï¼‰
   â†“
5. åˆ›å»ºå­¦ç”Ÿï¼ˆåˆ†é…åˆ°åˆšåˆ›å»ºçš„ç­çº§ï¼‰
   â†“
6. åˆ›å»ºè¡¨å•æ¨¡æ¿
   â†“
7. è¿”å›ä»ªè¡¨ç›˜éªŒè¯æ•°æ®ç»Ÿè®¡æ˜¯å¦æ­£ç¡®
```

---

## âœ… éªŒè¯æ¸…å•

- [ ] å¯ä»¥æˆåŠŸåˆ›å»ºæ•™å¸ˆ
- [ ] å¯ä»¥æˆåŠŸç¼–è¾‘æ•™å¸ˆ
- [ ] å¯ä»¥æˆåŠŸåˆ é™¤æ•™å¸ˆ
- [ ] ç­çº§åˆ›å»ºè¡¨å•æœ‰æ•™å¸ˆä¸‹æ‹‰æ¡†
- [ ] å¯ä»¥æˆåŠŸåˆ›å»ºç­çº§
- [ ] ç­çº§åˆ—è¡¨æ˜¾ç¤ºæ•™å¸ˆå§“å
- [ ] å¯ä»¥æˆåŠŸåˆ›å»ºè¡¨å•æ¨¡æ¿
- [ ] ä»ªè¡¨ç›˜å¡ç‰‡å¯ä»¥ç‚¹å‡»è·³è½¬
- [ ] æ‰€æœ‰é¡µé¢éƒ½æ˜¯ä¸­æ–‡ç•Œé¢

---

## ğŸš¨ æ•…éšœæ’é™¤

### æ•™å¸ˆåˆ›å»ºå¤±è´¥

**ç—‡çŠ¶**: ç‚¹å‡»ç¡®è®¤åæŠ¥é”™

**æ£€æŸ¥**:
```bash
# æ£€æŸ¥åç«¯æ—¥å¿—
docker logs beichen33-backend-1 --tail 50

# æŸ¥æ‰¾ POST /api/users ç›¸å…³é”™è¯¯
docker logs beichen33-backend-1 2>&1 | grep "POST /api/users" -A 10
```

**å¯èƒ½åŸå› **:
- é‚®ç®±é‡å¤ï¼ˆé‚®ç®±å¿…é¡»å”¯ä¸€ï¼‰
- æ•°æ®åº“è¿æ¥é—®é¢˜

---

### ç­çº§åˆ›å»ºå¤±è´¥

**ç—‡çŠ¶**: æç¤º "teacherId is required" æˆ–ç›¸å…³é”™è¯¯

**æ£€æŸ¥**:
1. ç¡®è®¤æ˜¯å¦å·²åˆ›å»ºæ•™å¸ˆ
2. ç¡®è®¤æ•™å¸ˆä¸‹æ‹‰æ¡†æœ‰é€‰é¡¹
3. ç¡®è®¤å·²é€‰æ‹©æ•™å¸ˆ

**è§£å†³**:
- å…ˆåˆ›å»ºè‡³å°‘ä¸€ä¸ªæ•™å¸ˆ
- åˆ·æ–°é¡µé¢é‡è¯•

---

### è¡¨å•æ¨¡æ¿åˆ›å»ºå¤±è´¥

**ç—‡çŠ¶**: ç‚¹å‡»ç¡®è®¤åæ— ååº”æˆ–æŠ¥é”™

**æ£€æŸ¥**:
```bash
# æ£€æŸ¥åç«¯è¡¨å•API
docker logs beichen33-backend-1 2>&1 | grep "forms/templates" -A 5
```

---

### ä»ªè¡¨ç›˜è·³è½¬ä¸å·¥ä½œ

**ç—‡çŠ¶**: ç‚¹å‡»å¡ç‰‡æ²¡æœ‰ååº”

**æ£€æŸ¥**:
1. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰
2. æŸ¥çœ‹Consoleæ˜¯å¦æœ‰é”™è¯¯
3. ç¡®è®¤å‰ç«¯å·²é‡å¯ï¼š`docker-compose restart frontend`

---

## ğŸ“Š æ•°æ®åº“æ£€æŸ¥

å¦‚éœ€ç›´æ¥æŸ¥çœ‹æ•°æ®åº“æ•°æ®ï¼š

```bash
# è¿›å…¥æ•°æ®åº“
docker exec -it beichen33-postgres-1 psql -U postgres -d kindergarten

# æŸ¥çœ‹ç”¨æˆ·ï¼ˆåŒ…æ‹¬æ•™å¸ˆï¼‰
SELECT id, name, email, role FROM "User" WHERE "deletedAt" IS NULL;

# æŸ¥çœ‹ç­çº§
SELECT c.name, c.grade, u.name as teacher_name
FROM "Class" c
LEFT JOIN "User" u ON c."teacherId" = u.id
WHERE c."deletedAt" IS NULL;

# æŸ¥çœ‹è¡¨å•æ¨¡æ¿
SELECT * FROM "FormTemplate" WHERE "deletedAt" IS NULL;

# é€€å‡º
\q
```

---

## ğŸ‰ æµ‹è¯•æˆåŠŸæ ‡å¿—

æ‰€æœ‰åŠŸèƒ½æ­£å¸¸æ—¶åº”è¯¥çœ‹åˆ°ï¼š

1. âœ… **æ•™å¸ˆç®¡ç†**: å¯ä»¥å®Œæ•´æ‰§è¡Œå¢åˆ æ”¹æŸ¥æ“ä½œ
2. âœ… **ç­çº§ç®¡ç†**: åˆ›å»ºæ—¶å¿…é¡»é€‰æ‹©æ•™å¸ˆï¼Œåˆ—è¡¨æ˜¾ç¤ºæ•™å¸ˆ
3. âœ… **è¡¨å•æ¨¡æ¿**: å¯ä»¥åˆ›å»ºæ–°æ¨¡æ¿
4. âœ… **ä»ªè¡¨ç›˜**: å¡ç‰‡å¯ç‚¹å‡»ï¼Œè·³è½¬æ­£ç¡®

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœæµ‹è¯•è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼š

1. æŸ¥çœ‹æœåŠ¡çŠ¶æ€ï¼š`docker-compose ps`
2. æŸ¥çœ‹åç«¯æ—¥å¿—ï¼š`docker logs beichen33-backend-1 --tail 100`
3. æŸ¥çœ‹å‰ç«¯æ—¥å¿—ï¼š`docker logs beichen33-frontend-1 --tail 50`
4. é‡å¯æœåŠ¡ï¼š`./restart.sh` é€‰æ‹©å¿«é€Ÿé‡å¯

---

## ğŸ“ ä¿®å¤æ–‡ä»¶æ¸…å•

æœ¬æ¬¡ä¿®å¤æ¶‰åŠçš„æ–‡ä»¶ï¼š

**åç«¯**:
- `backend/src/modules/users/users.controller.ts` - æ·»åŠ POSTæ¥å£
- `backend/src/modules/users/users.service.ts` - æ·»åŠ createæ–¹æ³•

**å‰ç«¯**:
- `frontend/src/pages/Classes/List.tsx` - æ·»åŠ æ•™å¸ˆé€‰æ‹©
- `frontend/src/pages/Forms/Templates.tsx` - å®ç°åˆ›å»ºåŠŸèƒ½
- `frontend/src/pages/Dashboard/Dashboard.tsx` - æ·»åŠ ç‚¹å‡»è·³è½¬

---

## ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’

å½“å‰åŠŸèƒ½å·²åŸºæœ¬å®Œå–„ï¼Œå»ºè®®åç»­ï¼š

1. æ·»åŠ æ›´å¤šè¡¨å•å­—æ®µï¼ˆåŠ¨æ€è¡¨å•æ„å»ºå™¨ï¼‰
2. å®ç°è¡¨å•å®¡æ‰¹æµç¨‹
3. å®Œå–„æƒé™æ§åˆ¶ï¼ˆå­¦ç”Ÿã€å®¶é•¿ã€æ•™å¸ˆä¸åŒæƒé™ï¼‰
4. æ·»åŠ æ•°æ®ç»Ÿè®¡å›¾è¡¨

è¯¦è§ï¼š`NEXT_FEATURES_PLAN.md`
